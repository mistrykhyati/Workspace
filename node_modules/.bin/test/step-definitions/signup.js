let {defineSupportCode} = require('cucumber');
let chai = require('chai');
global.expect = chai.expect;
//chai.should();
var should = chai.should;
var assert = chai.assert;
const { expect } = require('chai');
//assert.include = true;
//var should = require('chai').should();
//const AssertionError = require('assertion-error');
//const assert = require('assert');

defineSupportCode(function({Given, When, Then}) {
   
    Given('Goto Economist website', () => {
	 browser.maximizeWindow();
	   browser.pause(2000);
      browser.url('http://www.economist.com');
	  browser.pause(5000);
    });
   
	When('I click on LogIn', () => {
	 $('.ds-navigation-link--icon-account > span').click();			  		  
    });
	
	Then('I click on Signup and enter details', () => {
       $('.css-h1e9w9').click(); 
	   $('.css-1gytnsx:nth-child(1)').setValue('FirstName'); 
	   $('.css-1gytnsx:nth-child(2)').setValue('LastName'); 
	   $('.css-1gytnsx:nth-child(3)').setValue('abc@gmail.com'); 
	   $('.css-1gytnsx:nth-child(4)').setValue('abc12345'); 
	   $("//select").selectByVisibleText("India");
    });
	
	When('I click Terms and Condition', () => {
      $('=terms and conditions').click(); 
	  browser.pause(3000);
    });
	
	Then('I navigate back to Signup page', () => {     
	  browser.back();
	  browser.pause(3000);
    });
	
	Then('I verify entered data is lost', () => {
     var text = $('.css-1xsgriz > .css-1t2yx9o').getText(); 
	 console.log(text);
	 expect(text).not.equal('Create your Economist.com account');
	 console.log('finish');
    });				
});